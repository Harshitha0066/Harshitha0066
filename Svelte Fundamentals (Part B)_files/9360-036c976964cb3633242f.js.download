"use strict";(self.webpackChunk_loomhq_web_client=self.webpackChunk_loomhq_web_client||[]).push([[9360],{85615:function(e,t,n){n.d(t,{FK:function(){return c},HW:function(){return a},JX:function(){return l},XB:function(){return s},nD:function(){return i},no:function(){return m},vM:function(){return o},zQ:function(){return u}});var r=n(15429);let l=e=>({type:r.mm,workspaces:e}),a=e=>({type:r.qp,workspace:e}),o=e=>({type:r.lS,showModal:e}),i=e=>({type:r.iR,pendingInvites:e}),m=(e,t)=>({type:r.kg,id:e,count:t}),c=e=>({type:r.p,payload:e}),s=e=>({type:r.yI,payload:e}),u=e=>({type:r.RE,payload:e})},74229:function(e,t,n){n.d(t,{j:function(){return l}});var r=n(99219);let l=(0,r.Z)(e=>({showDevToolsModal:!1,openDevToolsModal(){e({showDevToolsModal:!0})},closeDevToolsModal(){e({showDevToolsModal:!1})}}))},8128:function(e,t,n){var r=n(76706),l=n(45431);t.Z=({children:e,replaceWith:t})=>{let n=(0,l.Mr)({flag:r.yRd,activationValues:[!0]});return n?t||null:e}},71362:function(e,t,n){n.d(t,{Z:function(){return l}});var r=n(58453);function l(e,t,n=!1){let l=(0,r.useRef)(null);return(0,r.useEffect)(()=>{let r=r=>{let a=l.current,o=t&&r.target.className&&r.target.className.includes&&r.target.className.includes(t);!a||a.contains(r.target)||o||(n?e(r.target.className):e())};return document.addEventListener("mousedown",r),()=>{document.removeEventListener("mousedown",r)}},[l,e]),l}},95274:function(e,t,n){n.d(t,{ui:function(){return p},wI:function(){return f},Bv:function(){return E}});var r=n(83445),l=n(55684);let a={},o=(0,r.Ps)`
    query userWorkspaceMemberships {
  userWorkspaceMemberships {
    member_role
    createdAt
    isSelected
    organization {
      id
      confluence_activation_id
      site_id
      createdAt
      name
      type
      workspaceLogoPath
      organization_properties
      limits
      counts {
        videos
        screenshots
        users
        folders
        unseenNotifications
        spaces {
          total_active_spaces
        }
      }
      member_roles {
        value
        name
        inviteable
        is_free
      }
    }
    was_loom_user_before_membership
    onboarding
    member_limits
  }
}
    `;var i=n(50679),m=n(91429),c=n(58216),s=n(25051),u=n(85615),d=n(18498);function p(e){let t=e?.userWorkspaceMemberships?.map(e=>{if(!e)return null;let{organization:t}=e,{total_active_admins:n,total_active_creators:r,total_workspace_users:l,pending_downgrades_from_admin:a,pending_downgrades_from_creator:o}=t.counts.users;return{confluence_activation_id:t.confluence_activation_id,counts:t.counts,id:t.id,isSelected:e.isSelected,limits:t.limits,memberJoined:e.createdAt,memberLimits:e.member_limits,memberRole:e.member_role,memberRoles:t.member_roles,members:l,name:t.name,onboarding:e.onboarding,organization_createdAt:t.createdAt,organization_id:t.id,organization_properties:t.organization_properties,pendingDowngradesFromAdmin:a,pendingDowngradesFromCreator:o,site_id:t.site_id,totalActiveCreators:n+r,totalAdminCount:n,type:t.type,was_loom_user_before_membership:e.was_loom_user_before_membership,workspaceLogoPath:t.workspaceLogoPath}}).filter(Boolean);return t||[]}function E(...e){let t=(0,i.I0)(),n=(0,i.v9)(d.Ue);return function(e){let t={...a,...e};return l.a(o,t)}({fetchPolicy:e[0]?.fetchPolicy||"no-cache",skip:!n,onCompleted:e=>{let n=p(e);t((0,u.JX)(n))},onError:e=>{c.error(e,{message:"Failed to fetch user workspace memberships."},{team:s.SZ.Outreach})},...e})}async function f(e="no-cache"){let t=(0,m.J$)();try{let n=await t.query({query:o,fetchPolicy:e});return n}catch(e){c.error(e,{message:"Failed to fetch user workspace memberships."},{team:s.SZ.Outreach})}}},19360:function(e,t,n){n.d(t,{Z:function(){return e_}});var r=n(20887),l=n(32910),a=n.n(l),o=(n(76502),n(5945)),i=n(58453),m=n(50679),c=n(63598),s=n(20409),u=n(36021),d=n(15358),p=n(33522),E=n(84270),f=n(2165),g=n(18498),b=n(36897),v=n(65005),_=n(32585),h=n(92947),y=n(86195),k=n(51110),C=n(59977),A=n(95274),D=n(48833),T=n(93298),I=n(6441),L=n.n(I),S=n(58033),w=n(45431),N=n(11122),O=n(58830),R=n.n(O),x=n(59101),P=n(45372),F=n(23904),U=n(59279),W=n(58789),q=n(30187),M=n(15183),V=n(31222),Z=n(76706),z=n(82985),j=n(25051),H=n(58258),$=n(74544),B=n(88419),K=n(98003),G=n(74229),X=n(52383),J=n(8128),Y=n(234),Q=n(31439),ee=n(75382),et=n(71362),en=n(13870),er=()=>{let[e,t]=(0,i.useState)(localStorage.getItem(en.ge)===en.jA),n=()=>{e?(localStorage.setItem(en.ge,""),document.body.classList.remove(en.jA),document.documentElement.style.colorScheme="normal",t(!1),b.track(r.mmF,{dark_mode:!1})):(localStorage.setItem(en.ge,en.jA),document.body.classList.add(en.jA),document.documentElement.style.colorScheme="dark",t(!0),b.track(r.mmF,{dark_mode:!0}))};return i.createElement(u.LZC,{x:1.5,y:.5},i.createElement(u.ggW,{justifyContent:"space-between"},i.createElement("label",{htmlFor:"darkMode"},"Dark mode"),i.createElement(u.rsf,{id:"darkMode",isActive:e,onChange:()=>n()})))},el=n(5383);let ea=(0,el.r)(()=>n.e(711).then(n.bind(n,77629))),eo=({eoyTakeoverData:e})=>i.createElement(i.Suspense,{fallback:null},i.createElement(ea,{eoyTakeoverData:e})),ei=({onClick:e})=>i.createElement(u.LZC,{x:"small"},i.createElement(u.Avr,{type:"button",onClick:e,offsetSide:"left"},i.createElement(u.ggW,{gap:"xsmall"},i.createElement(u.xvT,{color:"blurple",fontWeight:"bold"},"Get Loom AI"),i.createElement(u.W20,{position:"relative",top:"-5px",left:"-3px"},i.createElement(u.TRl,{brand:"ai",maxWidth:1.5,variant:"symbol"})))),i.createElement(u.xvT,{color:"bodyDimmed"},"Create better video messages without lifting a finger"));var em={bubbleMenuWrapper:"profile-bubble_bubbleMenuWrapper_11Q",bubbleMenu:"profile-bubble_bubbleMenu_2Hv",avatarLink:"profile-bubble_avatarLink_1kN",insightsHubRing:"profile-bubble_insightsHubRing_OUJ",linkNoUnderline:"profile-bubble_linkNoUnderline_2U7"};let ec={label:"Account & preferences",href:k.Jt,onClick:()=>{b.track(r.UUk,{primary_nav_item:"avatar",secondary_nav_item:"sign_out"})}},es={label:"Billing",href:k.DL},eu={label:"Sign Out"},ed={label:"Loommate portal",href:k.yp},ep=[{label:"Install Chrome extension",href:k.rl},{label:"Download desktop app",href:k.q5}],eE={label:"Download mobile app"},ef=({eoyTakeoverData:e})=>{let t=!!(0,w.W9)(Z.EI5),n=(0,N.hP)(),l=n?.memberRole,a=(0,N.s5)(),s=(0,N.Vg)(),d=s?.limit??0,p=s?.totalVideos??0,{data:E}=(0,T.rj)({variables:{workspaceId:n.id},skip:!n.id}),f=E?.billing?.billing_details,g=(0,K.getRoleDisplayName)(l??"",{hideViewer:!1}),{isProfileMenuOpen:_,setIsProfileMenuOpen:I,hideInsightsPanel:S}=(0,v.yY)(),O=(0,i.useCallback)(e=>{I&&I(!1,e)},[I]),F=(0,et.Z)(O,void 0,!0),{featureLoadedRef:U}=(0,W.kX)(F),q=(0,G.j)(e=>e.openDevToolsModal),j=(0,m.v9)(e=>{let{avatars:t,id:n,first_name:r,last_name:l,email:a,role:o}=e.user.current,i=r&&l?`${r} ${l}`.trim():a;return{avatars:t,name:i,email:a,id:n,isLoomAdmin:o===H.GN}}),B=n?.type===$.UK,en=n?.type===$.q1,el=n?.type===$.zF,ea=l===z.N,ef=l===z.Xx,eb=l===z.b3,ev=l===a,e_=(0,x.V9)(f),eh=f?.add_ons??[],ey=!!eh.find(e=>M.nE[e.price.product]===ee.e9.Ai),ek=en&&!ey&&!e_&&!ea||el&&!ey&&!e_&&!(ea||eb),eC=B||en&&ev||en&&e_||ev,eA=n?.counts?.videos?.total_shared_active_videos,eD="shared",eT=eA>0?`${eA} ${R()("video",eA)} ${eD} to ${n.name}`:`Zero videos ${eD} to ${n.name}`;P.tq?P.gn?eE.href=k.Ee:P.Dt&&(eE.href=k.hB):eE.href=k.PT;let eI=(0,m.I0)();(0,A.Bv)(),(0,i.useEffect)(()=>{eu.onClick=e=>{e.preventDefault(),b.track(r.UUk,{primary_nav_item:"avatar",secondary_nav_item:"sign_out"}),eI((0,Q.wG)())}},[eI]),(0,i.useEffect)(()=>{function e(e){if("Escape"===e.key){let t=e.target;e.preventDefault(),O(t?.className)}}return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[O]);let eL=()=>{ef?eI((0,C.O)("loom-ai")):eI((0,C.O)("loom-ai",{analyticEvent:r.i4q,source:y.y.AI_PROFILE_DROPDOWN}))},eS=e=>{let t=document.getElementsByClassName("sharePageContainer")[0];t&&(e?t.style.position="fixed":t.style.position="unset")};return _?i.createElement(L(),{active:!0,focusTrapOptions:{clickOutsideDeactivates:!0,onActivate:()=>eS(!0),onDeactivate:()=>eS(!1)}},i.createElement("dialog",{open:!0,className:em.bubbleMenuWrapper,ref:U,"aria-label":"Profile and personal settings"},i.createElement(u.W20,{position:"absolute",top:1.5,right:1.5,zIndex:2},i.createElement(u.hU,{altText:"Close menu",icon:i.createElement(V.G,null),onClick:e=>{O(e?.target?.className)}})),i.createElement("div",{className:em.bubbleMenu},i.createElement(u.ggW,{autoFlow:"row",gap:"small",justifyContent:"center",justifyItems:"center"},i.createElement(o.Z,{avatarSrc:(0,c.kV)(j.avatars),name:j.name,size:6}),i.createElement("div",null,i.createElement(u.xvT,{alignment:"center",fontWeight:"bold",hasEllipsis:!0},j.name),i.createElement(u.xvT,{alignment:"center",color:"bodyDimmed",size:"small"},eT)),i.createElement(u.zxk,{htmlTag:"a",href:"/profile",onClick:()=>{b.track(r.UUk,{primary_nav_item:"avatar",secondary_nav_item:"my_profile"})},size:"small"},"View or edit profile")),(j.isLoomAdmin||h.r8)&&i.createElement(u.LZC,{x:"medium",top:"small",bottom:1.5},i.createElement(u.ggW,{autoFlow:"row",gap:"xsmall",justifyContent:"stretch"},i.createElement(u.Avr,{htmlTag:"a",href:ed.href},i.createElement(u.xvT,null,ed.label)),i.createElement(u.LZC,{x:1.5},i.createElement(u.xvT,{color:"bodyDimmed",size:"small"},"Email: ",j.email),i.createElement(u.xvT,{color:"bodyDimmed",size:"small"},"User ID: ",j.id),i.createElement(u.rUS,{href:`/admin/workspaces/workspace-lookup/${n.id}`,target:"_blank",className:em.linkNoUnderline},i.createElement(u.xvT,{color:"bodyDimmed",size:"small"},"Workspace ID: ",n.id," ",i.createElement("span",{role:"img","aria-label":"Workspace lookup in admin dashboard"},"â†—")))))),i.createElement(J.Z,null,i.createElement(u.LZC,{x:"large",y:"medium"},i.createElement(u.ggW,{gap:"xsmall",columns:"1fr",width:"100%"},eC&&i.createElement(D.e,null,i.createElement(eg,null)),i.createElement(u.xvT,{color:"bodyDimmed"},"Current role: ",g),i.createElement(u.xvT,{color:"bodyDimmed"},"Current plan:"," ",$.mK[n.type]),d>0&&i.createElement(u.xvT,{color:"bodyDimmed"},p,"/",d," videos")))),t&&ek&&i.createElement(u.LZC,{x:"medium",y:"medium"},i.createElement(ei,{onClick:()=>{O(void 0),eL()}})),i.createElement(u.LZC,{all:"medium"},i.createElement(u.ggW,{gap:"small",autoFlow:"row",justifyContent:"stretch"},i.createElement(u.Avr,{htmlTag:"a",href:ec.href,onClick:ec.onClick},i.createElement(u.xvT,null,ec.label)),ef&&i.createElement(u.Avr,{htmlTag:"a",href:es.href},i.createElement(u.xvT,null,es.label)),ep.map(e=>i.createElement(u.Avr,{key:e.label,htmlTag:"a",href:e.href},i.createElement(u.xvT,null,e.label))),(!P.tq||P.gn||P.Dt)&&i.createElement(u.Avr,{htmlTag:"a",href:eE?.href},i.createElement(u.xvT,null,eE.label)),i.createElement(X.ZP,{flag:Z._CS,activationValues:[!0]},i.createElement(er,null)))),i.createElement(u.LZC,{all:"medium"},i.createElement(u.ggW,{justifyContent:"stretch"},i.createElement(u.Avr,{onClick:eu?.onClick},i.createElement(u.xvT,null,eu.label)))),Y.ub&&i.createElement(u.LZC,{all:"medium"},i.createElement(u.ggW,{justifyContent:"stretch"},i.createElement(u.Avr,{onClick:()=>q()},i.createElement(u.xvT,null,"Open devtools"))))),S?null:i.createElement(eo,{eoyTakeoverData:e}))):null};function eg(){let e=(0,m.I0)(),t=(0,N.hP)(),n=(0,S.I)(),l=(0,N.nw)(),a=(0,q.mD)({selectedWorkspace:t,minPlanForFeature:$.q1,pureTrial:n}),o=a===B.qy.ROLE?"Request role upgrade":l===z.Xx?"Upgrade plan":"Request plan upgrade";return i.createElement(u.Avr,{type:"button",onClick:()=>{b.track(r.UUk,{primary_nav_item:"avatar",secondary_nav_item:"upgrade"}),e((0,C.O)("business",{analyticEvent:r.Gqx,source:y.y.PROFILE_DROPDOWN}))},offsetSide:"left"},i.createElement(u.xvT,{color:"primary",fontWeight:"bold"},o))}let eb=e=>i.createElement(F.$,{feature:j.L0.Profile,errorType:U.s.SILENT,additionalLoggingValues:{version:"profile bubble menu"}},i.createElement(ef,{...e})),ev=({eoyTakeoverData:e})=>{let t=document.getElementById("intercom-destination-avatar");return t?(0,_.createPortal)(i.createElement(eb,{eoyTakeoverData:e}),t):null},e_=()=>{let{setIsProfileMenuOpen:e,isProfileMenuOpen:t,applyInsightsStyle:n}=(0,v.yY)(),l=(0,m.v9)(g.HF),_=(0,f.MS)(),h=(n,r)=>{!t&&e&&e(!0,n?.target?.className,r||!1)},y=n?em.insightsHubRing:"",k=(0,s.jS)("modal");(0,i.useEffect)(()=>{"insightsHub"===k&&h("",!0)},[]);let[C,A]=(0,i.useState)(!0),D=(0,m.I0)(),T=(0,E.c)(d.BR.EOY_2023_FTUX),I=i.useRef(null);return(0,u.t$X)(I,()=>A(!1)),i.createElement(i.Fragment,null,i.createElement(u.W20,{id:"intercom-destination-avatar",className:y,position:"relative",radius:"full"},i.createElement(u.ua7,{tabIndex:-1,content:T?null:"Profile and personal settings",placement:"bottomRight"},i.createElement("button",{onClick:n=>{b.track(r.UUk,{primary_nav_item:"avatar"}),b.track(r.K1r),!t&&e&&h(n,!1),A(!1),D((0,p.R)(d.BR.EOY_2023_FTUX))},className:a()(em.avatarLink,T&&null)},i.createElement(o.Z,{avatarSrc:(0,c.kV)(l.avatars),name:l.first_name,size:_?"4.5":"4"}),T&&null),null),i.createElement(ev,{eoyTakeoverData:null})))}},13870:function(e,t,n){let r;n.d(t,{ge:function(){return o},jA:function(){return a},jz:function(){return i}});var l=n(58453);try{r=window&&window.localStorage}catch(e){}let a="theme-dark",o="localTheme";function i(){let e=r.getItem(o);e===a?(document.body.classList.add(a),document.documentElement.style.colorScheme="dark"):(document.body.classList.remove(a),document.documentElement.style.colorScheme="normal")}t.ZP=()=>{let e=r?.getItem(o)||"";return(0,l.useEffect)(()=>{i()},[e]),e}},30187:function(e,t,n){n.d(t,{Nf:function(){return y},hF:function(){return h},kt:function(){return b},lD:function(){return g},mD:function(){return v},pE:function(){return _}});var r,l=n(51110),a=n(11122),o=n(58830),i=n.n(o),m=n(58453),c=n(36021),s=n(98003),u=n(96422),d=n(82985),p=n(74544),E=n(88419);let{getRoleDisplayName:f}=s;var g=((r=g||{})[r.DEFAULT=0]="DEFAULT",r[r.CREATE_SPACE=1]="CREATE_SPACE",r[r.UNARCHIVE_SPACE=2]="UNARCHIVE_SPACE",r[r.ARCHIVE_SPACE=3]="ARCHIVE_SPACE",r[r.RECORD_VIDEO=4]="RECORD_VIDEO",r[r.UPLOAD_VIDEO=5]="UPLOAD_VIDEO",r[r.ADD_CALL_TO_ACTION=6]="ADD_CALL_TO_ACTION",r[r.ADD_THUMBNAIL=7]="ADD_THUMBNAIL",r[r.VIEW_TRANSCRIPT=8]="VIEW_TRANSCRIPT",r[r.ENGAGEMENT_INSIGHTS=9]="ENGAGEMENT_INSIGHTS",r[r.DOWNLOAD=10]="DOWNLOAD",r[r.DOWNLOAD_CAPTIONS=11]="DOWNLOAD_CAPTIONS",r);let b={0:"Upgrade required",1:"Create more Spaces",2:"Create more Spaces",3:"Create more Spaces",4:"Record Video",5:"Upload Video",6:"Add a call-to-action",7:"Add a custom thumbnail",8:"View a transcript of your Loom",9:"Engagement Insights",10:"Download Video",11:"Download Captions"},v=({selectedWorkspace:e,minPlanForFeature:t,pureTrial:n=!1})=>e?.type==p.UK||n?E.qy.PLAN:p.P2[t]>p.P2[e.type]?E.qy.PLAN:E.qy.ROLE,_=({selectedWorkspace:e,minPlanForFeature:t=p.q1,minRoleForFeature:n=d.dt,requestStatus:r=null,hideViewerRole:a=!1,feature:o,pureTrial:s=!1})=>{if(null!==r)return m.createElement(m.Fragment,null,"We let your admin(s) know of your upgrade request. To see a full list of admin(s), visit the"," ",m.createElement(c.rUS,{href:l.xv,variant:"neutral"},"Workspace members")," ","page.");let u=p.mK[t],g=p.eF[t],b=e?.memberRole===d.Xx,_=e?.name,h=e?.type,y=e?.limits?.SPACE_LIMIT,k=y-1,C=k>0?`${k}${2===o?" active":""} ${i()("Space",k)}`:"",A=k>0?"plus an":"1",D=m.createElement(m.Fragment,null,m.createElement("strong",null,_)," is limited to"," ",C," ",A," All Company Space");if(1===o)return m.createElement(m.Fragment,null,D," on the"," ",m.createElement("strong",null,p.mK[h]," plan.")," If you","'","d like to create more Spaces,"," ",b?m.createElement(m.Fragment,null,"click to upgrade to the"," ",m.createElement("strong",null,p.mK[t]," plan.")):m.createElement(m.Fragment,null,"click to request to upgrade to the"," ",m.createElement("strong",null,p.mK[t]," plan.")));if(2===o)return m.createElement(m.Fragment,null,D," on the"," ",m.createElement("strong",null,p.mK[h]," plan.")," If you","'","d like to unarchive this Space,"," ",b?m.createElement(m.Fragment,null,"click to upgrade to the"," ",m.createElement("strong",null,p.mK[t]," plan.")):m.createElement(m.Fragment,null,"click to request to upgrade to the"," ",m.createElement("strong",null,p.mK[t]," plan.")));let T=v({selectedWorkspace:e,minPlanForFeature:t,pureTrial:s});if(T===E.qy.ROLE){let t=e?.memberRole,r=f(t,{hideViewer:a}),l=f(n,{hideViewer:a});return m.createElement(m.Fragment,null,"This feature is only available for the"," ",m.createElement("strong",null,l)," role. Click to request to your admin(s) to upgrade your role from ",m.createElement("strong",null,r)," ","to ",m.createElement("strong",null,l),".")}return m.createElement(m.Fragment,null,"This feature is only available with ",g," ",m.createElement("strong",null,u," plan")," or above."," ",b?m.createElement(m.Fragment,null,"Click to upgrade."):m.createElement(m.Fragment,null,"Send a request to your admin(s) to upgrade."))};function h({feature:e=0}){let{totalActiveSpaces:t}=(0,a.C9)();return(1===e||2===e)&&t>=u.bB.BUSINESS.SPACE_LIMIT?p.zF:p.q1}function y(){return d.dt}}}]);
//# sourceMappingURL=https://www.loom.com/admin/sourcemaps/js/9360-036c976964cb3633242f.js.map