(self.webpackChunk_loomhq_web_client=self.webpackChunk_loomhq_web_client||[]).push([[9361],{18282:function(e,n,t){"use strict";t.d(n,{q:function(){return s}});var i=t(15051),r=t(50679),o=t(11122);let a=(0,i.P1)([e=>e.workspace.workspaces,(e,n)=>n],(e,n)=>e.find(e=>e.id===n)?.counts),s=e=>{let n=(0,o.hP)(),t=(0,r.v9)(e=>a(e,n.id));return e?t?.[e]:t}},89693:function(e,n,t){"use strict";t.d(n,{Ws:function(){return i.Ws},BS:function(){return i.BS},J9:function(){return f},oC:function(){return i.oC},Se:function(){return i.Se}});var i=t(40667),r=t(81504),o=t(31543),a=t.n(o),s=t(58453),l=t(50679),u=t(2823),c=t(18498),d=t(92709),m=t.n(d);let f=({children:e})=>{let[n]=(0,r.D)(m()),t=(0,l.v9)(c.Ue);return(0,s.useEffect)(()=>{let e=async()=>{let e=await n(),t=e?.data?.getSessionSyncToken?.token;t&&a().set(u.EC,t,i.ji)};if(t){let n=a().get(u.EC);n?a().set(u.EC,n,i.ji):e()}},[t,n]),s.createElement(s.Fragment,null,e)}},4384:function(e,n,t){"use strict";t.d(n,{N:function(){return f}});var i=t(20887),r=t(91726),o=t(30495),a=t(36266),s=t(58453),l=t(96976),u=t(58216),c=t(47791),d=t(36897);let m=[r.oB],f=({children:e,pageName:n,props:t={}})=>{let r=void 0!==window.loomSSRUser,f=(0,a.b)(),S=(0,s.useRef)(!1),v=(0,s.useRef)(!1);return(0,o.b)(()=>u.initLogger()),(0,s.useEffect)(()=>{if(S.current)return;S.current=!0,m.includes(n)&&(t[c.RD]=(0,l.Z)());let e={...t,is_logged_in:r,organization_id:window.loomSSRUser?.workspaceId};(0,d.page)(n,e)},[n,t,r]),(0,s.useEffect)(()=>{r&&f&&!v.current&&(v.current=!0,(0,d.track)(i.fhy,f))},[r,f]),e}},36741:function(e,n,t){"use strict";t.r(n);var i=t(51110),r=t(62485),o=t(58453),a=t(50679),s=t(58216),l=t(36021),u=t(92407),c=t(25051),d=t(55040),m=t(18498);let{getloginUrlWithRedirect:f}=u,S=()=>{let e=window.location.href,n=f(e,"Please Login again",i.OA+i.DV);return o.createElement(l.u_l,{isOpen:!0,maxWidth:60},o.createElement(l.xvT,{variant:"title",alignment:"left"},"Session ended"),o.createElement(l.LZC,{bottom:"medium"}),o.createElement(l.xvT,null,"Youâ€™ve been signed out automatically. To continue using Loom, please sign in."),o.createElement(l.LZC,{bottom:"medium"}),o.createElement(l.xMy,{alignment:{default:"bottomRight"}},o.createElement(l.zxk,{variant:"primary",href:n,htmlTag:"a"},"Sign in")))};n.default=()=>{let e=(0,a.I0)(),n=(0,a.v9)(m.Qo);return n?o.createElement(r.j1,{team:c.SZ.Outreach,onError:n=>{s.error(n,{message:"Error in End User Session Modal"},{team:c.SZ.Outreach}),e((0,d.o)("error","Something went wrong. Please try again later."))}},o.createElement(S,null)):null}},91726:function(e,n,t){"use strict";t.d(n,{$X:function(){return r},dU:function(){return o},oB:function(){return i}});let i="Individual Video",r="Share Page 404",o="Upgrade browser"},12922:function(e,n,t){"use strict";t.d(n,{t:function(){return x}});var i=t(98361),r=t(89693),o=t(75769),a=t(36741),s=t(58340),l=t(68594),u=t(67191),c=t(58453),d=t(50679),m=t(91464),f=t(45431),S=t(76706),v=t(82985),k=t(74544),E=t(55068),g=t(20887),p=t(96422),_=t(15358),w=t(42880),y=t(36897),h=t(55040),T=t(43669);let b="undefined"!=typeof window,N=(e,n,t)=>{if(!b)return[n,()=>{}];let[i,r]=(0,c.useState)(()=>{try{let i=sessionStorage.getItem(e);if("string"!=typeof i)return sessionStorage.setItem(e,t?String(n):JSON.stringify(n)),n;return t?i:JSON.parse(i||"null")}catch{return n}});return(0,c.useEffect)(()=>{try{let n=t?String(i):JSON.stringify(i);sessionStorage.setItem(e,n)}catch{}}),[i,r]},I=()=>{let e=(0,d.I0)(),[n,t]=N("loom_creator_lite_limit_session_banner_dismissed",void 0),{value:i,loading:r}=(0,w.BM)(_.BR.CREATOR_LITE_MEMBER_LIMIT_GLOBAL_BANNER),o=i||n;return c.useEffect(()=>{r||o||(y.track(g.cPR),e((0,h.o)(T.pn,`You have exceeded the ${p.bB.BUSINESS.CREATOR_LITE_MEMBER_LIMIT} Creator Lite limit for your workspace.`,p.bV,"Contact our sales team","https://www.loom.com/connect/creator-lite-limit")))},[e,o,r,t]),null},C=()=>{let e=(0,E.hP)(),n=(0,f.W9)(S.PVW),t=e?.type===k.q1,i=e?.counts?.users?.total_active_creator_lites??0,r=i>=e?.limits?.CREATOR_LITE_MEMBER_LIMIT,o=e?.memberRole===v.Xx;return e&&t&&o&&n&&r?c.createElement(I,null):null};var R=t(91429),L=t(52860);let x=({store:e,history:n,children:t,...f})=>c.createElement(d.zt,{store:e||(0,i.xC)({reducer:(0,m.W)(n),middleware:(0,i.Bx)()})},c.createElement(L.y,null,c.createElement(u.xI,{history:n},c.createElement(R.$C,null,c.createElement(l.L,null,c.createElement(r.J9,null,c.createElement(C,null),c.createElement(o.bg,{...f},c.createElement(s.x,null,t))))))),c.createElement(a.default,null))},52860:function(e,n,t){"use strict";t.d(n,{a:function(){return f},y:function(){return S}});var i=t(20887),r=t(30495),o=t(84988),a=t(58453),s=t(24601),l=t.n(s),u=t(58216),c=t(25051),d=t(36897);let m=(0,a.createContext)({isSDKSupported:!1}),f=()=>{let e=(0,a.useContext)(m);return e||u.warning("useSDKSupport must be used within a SDKSupportProvider",{feature:c.L0.SDKRecorder}),e},S=({children:e})=>{let n;let[t,s]=(0,a.useState)(!1),[u,c]=(0,a.useState)(),f=window.location.toString();return f.includes("/share")&&(n=f.slice(f.lastIndexOf("-")+1)),(0,r.b)(()=>{let e=!1;return(async()=>{let{supported:t,error:r}=await (0,o.l)();if(!t){let e=new(l()),t=e.getResult();d.track(i.xHJ,{videoId:n,browserName:t?.browser?.name,browserVersion:t?.browser?.version,osName:t?.os?.name,osVersion:t?.os?.version,sdkNotSupportedReason:u,userAgent:t?.ua})}e||(s(t),c(r))})(),()=>{e=!0}}),a.createElement(m.Provider,{value:{isSDKSupported:t,sdkNotSupportedReason:u}},e)}},36266:function(e,n,t){"use strict";t.d(n,{b:function(){return c}});var i=t(58453),r=t(61434),o=t(55986),a=t(53661),s=t(18282);let{getWorkspaceDestinationState:l,WorkspaceDestinationState:u}=r;function c(){let e=(0,s.q)("videos"),n=(0,s.q)("users"),{updateMemberProperty:t}=(0,a.A)(o.I.HOME_STATE_DENSITY),{value:r}=(0,a.T)(o.I.HOME_STATE_DENSITY);return(0,i.useMemo)(()=>{if(!e||!n)return null;let i=e?.total_published_videos??0,o=n?.total_workspace_users??1,a=l({publishedVideoCounts:i,totalUsers:o});return a===u.EMPTY?{total_workspace_visible_videos:i,total_workspace_members:o,workspace_state:r}:(t(a),{total_workspace_visible_videos:i,total_workspace_members:o,workspace_state:a})},[e,n,r])}},84988:function(e,n,t){"use strict";t.d(n,{l:function(){return l}});var i=t(58216),r=t(25051),o=t(23480),a=t(5383);let s=()=>(0,a.X)(()=>t.e(8213).then(t.bind(t,39021)).then(e=>e),o.H);async function l(){try{let{isSupported:e}=await s();return e()}catch(e){return i.error(e,void 0,{feature:r.L0.SDKRecorder}),{supported:!1,error:e}}}},92709:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"GetSessionSyncToken"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"getSessionSyncToken"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"GetSessionSyncTokenPayload"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"token"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"GenericError"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UserNotAuthorizedError"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AcknowledgedSessionSyncTokenError"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:303}};n.loc.source={body:"mutation GetSessionSyncToken {\n  getSessionSyncToken {\n    __typename\n    ... on GetSessionSyncTokenPayload {\n      token\n    }\n    ... on GenericError {\n      message\n    }\n    ... on UserNotAuthorizedError {\n      message\n    }\n    ... on AcknowledgedSessionSyncTokenError {\n      message\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var t={};function i(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}n.definitions.forEach(function(e){if(e.name){var n=new Set;(function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach(function(n){e(n,t)}),n.variableDefinitions&&n.variableDefinitions.forEach(function(n){e(n,t)}),n.definitions&&n.definitions.forEach(function(n){e(n,t)})})(e,n),t[e.name.value]=n}}),e.exports=n,e.exports.GetSessionSyncToken=function(e,n){var r={kind:e.kind,definitions:[i(e,n)]};e.hasOwnProperty("loc")&&(r.loc=e.loc);var o=t[n]||new Set,a=new Set,s=new Set;for(o.forEach(function(e){s.add(e)});s.size>0;){var l=s;s=new Set,l.forEach(function(e){a.has(e)||(a.add(e),(t[e]||new Set).forEach(function(e){s.add(e)}))})}return a.forEach(function(n){var t=i(e,n);t&&r.definitions.push(t)}),r}(n,"GetSessionSyncToken")}}]);
//# sourceMappingURL=https://www.loom.com/admin/sourcemaps/js/9361-afd185ef70ade89fe557.js.map